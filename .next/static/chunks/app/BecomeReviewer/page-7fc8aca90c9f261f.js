(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{7457:function(e,t,i){Promise.resolve().then(i.bind(i,561))},561:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return m}});var r=i(7437),n=i(2265),a=i(7818),l=i(7141),s=i(3569),c=i(2358);let o=(0,a.default)(()=>Promise.all([i.e(572),i.e(902),i.e(388),i.e(762)]).then(i.bind(i,3762)),{loadableGenerated:{webpack:()=>[3762]},ssr:!1});async function d(e){let t=await fetch("http://localhost:1337/api/users?filters[email][$eq]=".concat(e));return(await t.json())[0].id}async function u(e){let t=await fetch("http://localhost:1337/api/appeals?filters[email][$eq]=".concat(e));return(await t.json()).data.length>0}var h=function(){(0,n.useEffect)(()=>{c.Z.register()},[]);let{isLoaded:e,isSignedIn:t,user:a}=(0,s.aF)(),[h,m]=(0,n.useState)(!0),[p,x]=(0,n.useState)(!1),[f,g]=(0,n.useState)(""),[y,j]=(0,n.useState)(""),[v,b]=(0,n.useState)(null),[E,N]=(0,n.useState)(null),[O,S]=(0,n.useState)(""),[w,Z]=(0,n.useState)(null),[C,A]=(0,n.useState)(!1),[k,P]=(0,n.useState)(null),F=async e=>{if(e.preventDefault(),!y||!O||!v){alert("Please fill in all fields.");return}let t=a.primaryEmailAddress.emailAddress;if(await d(t),await u(a.primaryEmailAddress.emailAddress)){alert("You have already submitted a review with this email.");return}try{if(!(await fetch("http://localhost:1337/api/appeals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{Name:y,FurtherInformation:O,Email:t,Type:v,PlacesWork:f}})})).ok)throw Error("Failed to create article");alert("Article created successfully!")}catch(e){console.error("Error creating article:",e)}};return((0,n.useEffect)(()=>{Promise.all([i.e(572),i.e(902),i.e(388),i.e(762)]).then(i.bind(i,3762)).then(()=>{x(!0)})},[]),p)?(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("form",{suppressHydrationWarning:!0,className:"max-w-3xl w-full grid place-items-center pt-10 mb-10",onSubmit:F,children:[(0,r.jsxs)("div",{className:"flex flex-col ml-3 rounded-tl-md mb-2 rounded-tr-md align-top p-14 px-4 py-3 justify-start rounded-bt-md border-b border-r border-t border-l border-gray-700 text-black items-start w-full gap-3 font-medium text-[16px] pt-4 rounded-bl-md rounded-br-md outline-none",children:[(0,r.jsx)("h1",{className:" ",children:"Reviewer Appeal"}),(0,r.jsxs)("div",{className:" ",children:[(0,r.jsx)("label",{className:" mr-2",htmlFor:"articleName",children:"Your Name:"}),(0,r.jsx)("input",{className:"border border-t-gray-700 border-gray-700 rounded-md px-3 py-2 mt-1 focus:outline-none focus:ring focus:border-blue-300",type:"text",id:"articleName",value:y,onChange:e=>j(e.target.value),placeholder:"Article Name"})]}),(0,r.jsxs)("div",{className:"flex align-top",children:[(0,r.jsx)("label",{className:"mr-1 mb-2",htmlFor:"Description",children:"Where you Worked:"}),(0,r.jsx)("textarea",{className:"border border-t-gray-700 border-gray-700 rounded-md px-3 py-2 mt-1 focus:outline-none focus:ring focus:border-blue-300",id:"Description",value:f,onChange:e=>g(e.target.value),placeholder:"Description"})]}),(0,r.jsxs)("div",{className:"flex ml-2 mb-10",children:[(0,r.jsx)("label",{className:"mr-2 mb-2",htmlFor:"selectType",children:"What you want to review"}),(0,r.jsxs)(l.Z,{className:"w-[400px]",onChange:b,placeholder:"Select article type",children:[(0,r.jsx)(l.Z.Option,{value:"Physics",children:"Physics"}),(0,r.jsx)(l.Z.Option,{value:"Chemistry",children:"Chemistry"}),(0,r.jsx)(l.Z.Option,{value:"Biology",children:"Biology"}),(0,r.jsx)(l.Z.Option,{value:"Earth Sciences",children:"Earth Sciences"}),(0,r.jsx)(l.Z.Option,{value:"Environmental Sciences",children:"Environmental Sciences"}),(0,r.jsx)(l.Z.Option,{value:"Astronomy and Astrophysics",children:"Astronomy and Astrophysics"}),(0,r.jsx)(l.Z.Option,{value:"Mathematics",children:"Mathematics"}),(0,r.jsx)(l.Z.Option,{value:"Computer Science",children:"Computer Science"}),(0,r.jsx)(l.Z.Option,{value:"Statistics",children:"Statistics"}),(0,r.jsx)(l.Z.Option,{value:"Mechanical Engineering",children:"Mechanical Engineering"}),(0,r.jsx)(l.Z.Option,{value:"Electrical Engineering",children:"Electrical Engineering"}),(0,r.jsx)(l.Z.Option,{value:"Civil Engineering",children:"Civil Engineering"}),(0,r.jsx)(l.Z.Option,{value:"Computer Engineering",children:"Computer Engineering"}),(0,r.jsx)(l.Z.Option,{value:"Aerospace Engineering",children:"Aerospace Engineering"}),(0,r.jsx)(l.Z.Option,{value:"Chemical Engineering",children:"Chemical Engineering"}),(0,r.jsx)(l.Z.Option,{value:"Medicine",children:"Medicine"}),(0,r.jsx)(l.Z.Option,{value:"Pharmacology",children:"Pharmacology"}),(0,r.jsx)(l.Z.Option,{value:"Public Health",children:"Public Health"}),(0,r.jsx)(l.Z.Option,{value:"Nursing",children:"Nursing"}),(0,r.jsx)(l.Z.Option,{value:"Dentistry",children:"Dentistry"}),(0,r.jsx)(l.Z.Option,{value:"Veterinary Science",children:"Veterinary Science"})]})]})]}),(0,r.jsx)("h1",{className:"mb-5",children:"Further Information"}),(0,r.jsx)(o,{content:O,onChange:e=>{S(e)}}),(0,r.jsx)("button",{type:"submit",className:"px-4 bg-sky-700 text-white py-2 rounded-md",children:"Add"})]})}):(0,r.jsx)("div",{className:"flex justify-center h-screen w-full items-center",children:(0,r.jsx)("l-waveform",{size:"35",stroke:"3.5",speed:"1",color:"black"})})};i(6463);var m=function(){return(0,r.jsx)("div",{children:(0,r.jsx)(h,{})})}}},function(e){e.O(0,[569,323,971,23,744],function(){return e(e.s=7457)}),_N_E=e.O()}]);