(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{8096:function(e,t,s){Promise.resolve().then(s.bind(s,624))},624:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(7437),i=s(3743),r=s(2265),l=s(6463),c=function(e){let{article:t}=e,[s,i]=(0,r.useState)([]),[l,c]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{var e;let s=await fetch("http://localhost:1337/api/users?populate=*&filters[Type][$eq]=".concat(null===(e=t.attributes)||void 0===e?void 0:e.Type));i(await s.json())})()},[]),console.log(s);let n=(e,t)=>{e.target.checked?l.length<4?c(e=>[...e,t]):(e.target.checked=!1,alert("You can select up to four users.")):c(e=>e.filter(e=>e.id!==t.id))};console.log(t.id);let o=async()=>{let e=l.map(e=>e.email).join(", ");console.log(e);try{if(!(await fetch("http://localhost:1337/api/articles/".concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{Reviewers:e}})})).ok)throw Error("Failed to update article");alert("Article Sent to reviewers!")}catch(e){console.error("Error updating article:",e)}};return(0,a.jsxs)("div",{className:"flex flex-col ml-8 items-start w-fit justify-start min-h-fit  pl-5 pb-10  pt-10 bg-white",children:[(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Select up to four users:"}),(0,a.jsx)("ul",{className:"mt-2",children:s.map(e=>(0,a.jsxs)("li",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"user-".concat(e.id),value:e.id,onChange:t=>n(t,e),className:"mr-2"}),(0,a.jsx)("label",{htmlFor:"user-".concat(e.id),children:e.username})]},e.id))})]}),l.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-lg font-medium text-gray-700",children:"Selected Users:"}),(0,a.jsx)("ul",{className:"mt-2",children:l.map(e=>(0,a.jsx)("li",{children:e.username},e.id))})]}),(0,a.jsx)("button",{onClick:o,className:"  rounded-md mr-5 bg-primary px-4 py-2.5 text-sm font-medium text-white transition hover:bg-teal-600/75 sm:block mt-5",children:" Assign Reviewers"})]})},n=function(e){let{article:t,User:s}=e,[i,l]=(0,r.useState)();return(0,r.useEffect)(()=>{(async()=>{let e=await fetch("http://localhost:1337/api/users");l((await e.json()).data)})()},[]),(0,a.jsx)("div",{children:(0,a.jsx)(c,{article:t,User:s})})};s(6648),s(7421);var o=function(e){let{article:t,User:s}=e,[i,l]=(0,r.useState)(),c=s.email,[n,o]=(0,r.useState)(null);return((0,r.useEffect)(()=>{(async()=>{let e=await fetch("/api/ClientAvatar");l((await e.json()).data)})()},[]),(0,r.useEffect)(()=>{i&&o(i.find(e=>e.emailAddresses&&e.emailAddresses.some(e=>e.emailAddress===c)))},[i,c]),i)?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"PictureAndBio",children:[t?(0,a.jsx)("img",{src:null==n?void 0:n.imageUrl,className:"avatar shadow-lg",alt:"There is no avatar"}):(0,a.jsx)("div",{className:"w-[200px} h-[225px]   avatar   ml-2   bg-slate-200 rounded-lg animate-pulse      "}),(0,a.jsxs)("h1",{className:" SubmittedBy    text-xl font-bold dark:text-white  ",children:["Submitted By : ",null==s?void 0:s.username]})]})}):(0,a.jsxs)("div",{className:"flex justify-center h-screen w-full items-center",children:["  ",(0,a.jsx)("l-waveform",{size:"35",stroke:"3.5",speed:"1",color:"black"})]})},d=s(2358),u=s(3705),h=s(2214),f=s(3922),p=s(9930),m=s(2375),b=s(3569),g=function(e){let{article:t}=e,[s,i]=(0,r.useState)(!1),[l,c]=(0,r.useState)(""),{isLoaded:n,isSignedIn:o,user:g}=(0,b.aF)(),[x,v]=(0,r.useState)(!1),[j,w]=(0,r.useState)(),[y,k]=(0,r.useState)(!1);d.Z.register(),(0,r.useEffect)(()=>{t&&t.attributes&&t.attributes.Bbody&&c(t)},[t]),(0,r.useEffect)(()=>{!x&&n&&o&&fetch("http://localhost:1337/api/users?filters[email][$eq]=".concat(g.primaryEmailAddress.emailAddress)).then(e=>{if(!e.ok)throw Error("Failed to fetch users");return e.json()}).catch(e=>{console.error("Error fetching users:",e)})},[n,o,x]);let E=(0,u.jE)({editable:s,content:"".concat(t.attributes.Bbody),extensions:[h.Z,p.ZP.configure({openOnClick:!1,autolink:!0}),f.ZP.configure({allowBase64:!0}),m.Z]});return((0,r.useEffect)(()=>{if(E){E.setEditable(s);let e=()=>{w(E.getHTML())};return E.on("update",e),()=>{E.off("update",e)}}},[E,s]),console.log(j),E)?(0,a.jsxs)("div",{className:"ReaderTipTapthings",children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"mb-5 "})}),(0,a.jsx)("div",{class:"flex items-center justify-center sm:justify-start md:justify-end min-w-[300px] sm:min-w-[400px] md:min-w-[600px] lg:min-w-[800px] xl:min-w-[1000px]"}),(0,a.jsx)(u.kg,{editor:E})]}):(0,a.jsxs)("div",{className:"flex justify-center h-screen w-full items-center",children:["  ",(0,a.jsx)("l-waveform",{size:"35",stroke:"3.5",speed:"1",color:"black"})]})},x=function(e){let{params:t}=e;(0,l.usePathname)(),d.Z.register();let[s,c]=(0,r.useState)(null),[u,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{try{let e=await i.Z.getArticleById(null==t?void 0:t.articleId);c(e.data.data);let s=await i.Z.getUserById(null==e?void 0:e.data.data.attributes.users_permissions_user.data.id);h(s.data)}catch(e){console.error("Error fetching article data:",e)}finally{p(!1)}})()},[null==t?void 0:t.articleId]),f)?(0,a.jsxs)("div",{className:"flex justify-center h-screen w-full items-center",children:["  ",(0,a.jsx)("l-waveform",{size:"35",stroke:"3.5",speed:"1",color:"black"})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"pagecss",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(o,{article:s,User:u}),(0,a.jsx)(n,{className:"ml-2",article:s})]}),(0,a.jsx)(g,{article:s,User:u})]})})}},3743:function(e,t,s){"use strict";let{default:a}=s(2759);t.Z={getReviwersAppeal:()=>a.get("/appeals?populate=*"),getLatestArticles:()=>a.get("/articles?populate=*"),getArticleById:e=>a.get("/articles/".concat(e,"?populate=*")),getUserById:e=>a.get("/users/".concat(e,"?populate=*"))}},2759:function(e,t,s){"use strict";s.r(t);let{default:a}=s(4681),i=a.create({baseURL:"http://localhost:1337/api",headers:{Authorization:"Bearer ".concat("3d1304063436599485a0293fe974c8293f1785cc3ffbfca8f680c0306f57b9f84e2a0448114eebda620b7c805cedcd2a92fec9199d422aac04fe60bb11826615059bd101d677665b60ca23e0c471974f4a92fbdb48c112fb791f4e4808178f21783905fa2679092f4219dfafe70b67952de3a75524bac26e5d3c7c0a8d81c730")}});t.default=i},6463:function(e,t,s){"use strict";var a=s(1169);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},7421:function(){},2358:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});class a extends HTMLElement{_propsToUpgrade={};shadow;template;defaultProps;isAttached=!1;constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.template=document.createElement("template")}storePropsToUpgrade(e){e.forEach(e=>{this.hasOwnProperty(e)&&void 0!==this[e]&&(this._propsToUpgrade[e]=this[e],delete this[e])})}upgradeStoredProps(){Object.entries(this._propsToUpgrade).forEach(([e,t])=>{this.setAttribute(e,t)})}reflect(e){e.forEach(e=>{Object.defineProperty(this,e,{set(t){"string,number".includes(typeof t)?this.setAttribute(e,t.toString()):this.removeAttribute(e)},get(){return this.getAttribute(e)}})})}applyDefaultProps(e){this.defaultProps=e,Object.entries(e).forEach(([e,t])=>{this[e]=this[e]||t.toString()})}}var i=":host{align-items:center;display:inline-flex;flex-shrink:0;height:calc(var(--uib-size)*.9);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{align-items:center;display:flex;height:calc(var(--uib-size)*.9);justify-content:space-between;width:var(--uib-size)}.bar{background-color:var(--uib-color);height:100%;transition:background-color .3s ease;width:var(--uib-stroke)}.bar:first-child{animation:grow var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.45) infinite}.bar:nth-child(2){animation:grow var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.3) infinite}.bar:nth-child(3){animation:grow var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.15) infinite}.bar:nth-child(4){animation:grow var(--uib-speed) ease-in-out infinite}@keyframes grow{0%,to{transform:scaleY(.3)}50%{transform:scaleY(1)}}";class r extends a{_attributes=["size","color","speed","stroke"];size;color;speed;stroke;static get observedAttributes(){return["size","color","speed","stroke"]}constructor(){super(),this.storePropsToUpgrade(this._attributes),this.reflect(this._attributes)}connectedCallback(){this.upgradeStoredProps(),this.applyDefaultProps({size:35,color:"black",speed:1,stroke:3.5}),this.template.innerHTML=`
      <div class="container">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
      <style>
        :host{
          --uib-size: ${this.size}px;
          --uib-color: ${this.color};
          --uib-speed: ${this.speed}s;
          --uib-stroke: ${this.stroke}px;
        }
        ${i}
      </style>
    `,this.shadow.replaceChildren(this.template.content.cloneNode(!0))}attributeChangedCallback(){let e=this.shadow.querySelector("style");e&&(e.innerHTML=`
      :host{
        --uib-size: ${this.size}px;
        --uib-color: ${this.color};
        --uib-speed: ${this.speed}s;
        --uib-stroke: ${this.stroke}px;
      }
      ${i}
    `)}}var l={register:(e="l-waveform")=>{customElements.get(e)||customElements.define(e,class extends r{})},element:r}}},function(e){e.O(0,[909,572,902,569,681,648,388,971,23,744],function(){return e(e.s=8096)}),_N_E=e.O()}]);