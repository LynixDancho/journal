(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[654],{6244:function(e,t,s){Promise.resolve().then(s.bind(s,6119))},6119:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var a=s(7437),r=s(3743),i=s(2265);s(6648),s(6383);var o=function(e){var t;let{Appeal:s,User:r}=e,[o,n]=(0,i.useState)([]),[l,c]=(0,i.useState)(null);return((0,i.useEffect)(()=>{(async()=>{let e=await fetch("/api/ClientAvatar");n((await e.json()).data)})()},[]),(0,i.useEffect)(()=>{o.length>0&&c(o.find(e=>e.emailAddresses&&e.emailAddresses.some(e=>e.emailAddress===r)))},[o,r]),o&&0!==o.length&&l)?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"PictureAndBio",children:[s?(0,a.jsx)("img",{src:null!==(t=null==l?void 0:l.imageUrl)&&void 0!==t?t:"",className:"avatar shadow-lg",alt:"Avatar"}):(0,a.jsx)("div",{className:"w-[200px] h-[225px] avatar bg-slate-200 rounded-lg animate-pulse"}),(0,a.jsxs)("h1",{className:"SubmittedBy text-xl font-bold dark:text-white",children:["Submitted By: ",l.firstName," ",l.lastName]}),(0,a.jsx)("div",{})]})}):(0,a.jsx)("div",{className:"flex justify-center h-screen w-full items-center",children:(0,a.jsx)("l-waveform",{size:"35",stroke:"3.5",speed:"1",color:"black"})})},n=s(3705),l=s(2214),c=s(3922),d=s(9930),u=s(2375),h=s(3569),p=s(2358),f=function(e){let{Appeal:t,User:s}=e,[r,o]=(0,i.useState)(!1),{isLoaded:f,isSignedIn:m,user:b}=(0,h.aF)(),[g,v]=(0,i.useState)(!1),[x,w]=(0,i.useState)(null);p.Z.register(),(0,i.useEffect)(()=>{t&&t[0].attributes&&t[0].attributes.FurtherInformation},[t]),(0,i.useEffect)(()=>{!g&&f&&m&&fetch("http://localhost:1337/api/users?filters[email][$eq]=".concat(b.primaryEmailAddress.emailAddress)).then(e=>{if(!e.ok)throw Error("Failed to fetch users");return e.json()}).then(e=>{w(e)}).catch(e=>{console.error("Error fetching users:",e)})},[f,m,g]),t&&console.log(x);let j=(0,n.jE)({editable:r,content:"".concat(t[0].attributes.FurtherInformation),extensions:[l.Z,d.ZP.configure({openOnClick:!1,autolink:!0}),c.ZP.configure({allowBase64:!0}),u.Z]});(0,i.useEffect)(()=>{j&&j.setEditable(r)},[j,r]);let k=async e=>{e.stopPropagation();let t="http://localhost:1337/admin/content-manager/collection-types/plugin::users-permissions.user/".concat(x[0].id);window.open(t,"_blank")},y=async e=>{e.stopPropagation();try{if(!(await fetch("http://localhost:1337/api/appeals/".concat(t[0].id),{method:"Delete"})).ok)throw Error("Failed to create article");window.location.href="http://localhost:3000/ApproveReviewers",alert("The appeal is deleted!")}catch(e){console.error("Error creating article:",e)}};return j?(0,a.jsxs)("div",{className:"ReaderTipTapthings ",children:[(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"mb-5  flex",children:(0,a.jsx)("div",{class:"flex   sm:justify-start md:justify-end min-w-[300px] sm:min-w-[400px] md:min-w-[600px] lg:min-w-[800px] xl:min-w-[1000px]",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:k,className:"  rounded-md bg-green-500  px-5 py-2.5 text-sm font-medium text-black transition hover:bg-teal-700 ml-5 group cursor-pointer outline-none",title:"Add New",children:"Approve"}),(0,a.jsx)("button",{onClick:y,className:"  rounded-md bg-red-500  px-5 py-2.5 text-sm font-medium text-black transition hover:bg-teal-700 ml-5 group cursor-pointer outline-none",title:"Add New",children:"Delete it"})]})})})}),(0,a.jsx)(n.kg,{editor:j})]}):(0,a.jsxs)("div",{className:"flex justify-center h-screen w-full items-center",children:["  ",(0,a.jsx)("l-waveform",{size:"35",stroke:"3.5",speed:"1",color:"black"})]})},m=s(6463),b=function(e){let{params:t}=e;(0,m.usePathname)(),p.Z.register();let[s,n]=(0,i.useState)(null),[l,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{(async()=>{try{let e=await r.Z.getReviwersAppeal(null==t?void 0:t.reviwerid);console.log(e.data.data[0]);let s=null==e?void 0:e.data.data[0].attributes.Email;n(e.data.data),c(s)}catch(e){console.error("Error fetching article data:",e)}finally{u(!1)}})()},[null==t?void 0:t.articleId]),d)?(0,a.jsxs)("div",{className:"flex justify-center h-screen w-full items-center",children:["  ",(0,a.jsx)("l-waveform",{size:"35",stroke:"3.5",speed:"1",color:"black"})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"pagecss",children:[(0,a.jsx)(o,{Appeal:s,User:l}),(0,a.jsx)(f,{Appeal:s,User:l})]})})}},3743:function(e,t,s){"use strict";let{default:a}=s(2759);t.Z={getReviwersAppeal:()=>a.get("/appeals?populate=*"),getLatestArticles:()=>a.get("/articles?populate=*"),getArticleById:e=>a.get("/articles/".concat(e,"?populate=*")),getUserById:e=>a.get("/users/".concat(e,"?populate=*"))}},2759:function(e,t,s){"use strict";s.r(t);let{default:a}=s(4681),r=a.create({baseURL:"http://localhost:1337/api",headers:{Authorization:"Bearer ".concat("3d1304063436599485a0293fe974c8293f1785cc3ffbfca8f680c0306f57b9f84e2a0448114eebda620b7c805cedcd2a92fec9199d422aac04fe60bb11826615059bd101d677665b60ca23e0c471974f4a92fbdb48c112fb791f4e4808178f21783905fa2679092f4219dfafe70b67952de3a75524bac26e5d3c7c0a8d81c730")}});t.default=r},6463:function(e,t,s){"use strict";var a=s(1169);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},6383:function(){},2358:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});class a extends HTMLElement{_propsToUpgrade={};shadow;template;defaultProps;isAttached=!1;constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.template=document.createElement("template")}storePropsToUpgrade(e){e.forEach(e=>{this.hasOwnProperty(e)&&void 0!==this[e]&&(this._propsToUpgrade[e]=this[e],delete this[e])})}upgradeStoredProps(){Object.entries(this._propsToUpgrade).forEach(([e,t])=>{this.setAttribute(e,t)})}reflect(e){e.forEach(e=>{Object.defineProperty(this,e,{set(t){"string,number".includes(typeof t)?this.setAttribute(e,t.toString()):this.removeAttribute(e)},get(){return this.getAttribute(e)}})})}applyDefaultProps(e){this.defaultProps=e,Object.entries(e).forEach(([e,t])=>{this[e]=this[e]||t.toString()})}}var r=":host{align-items:center;display:inline-flex;flex-shrink:0;height:calc(var(--uib-size)*.9);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{align-items:center;display:flex;height:calc(var(--uib-size)*.9);justify-content:space-between;width:var(--uib-size)}.bar{background-color:var(--uib-color);height:100%;transition:background-color .3s ease;width:var(--uib-stroke)}.bar:first-child{animation:grow var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.45) infinite}.bar:nth-child(2){animation:grow var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.3) infinite}.bar:nth-child(3){animation:grow var(--uib-speed) ease-in-out calc(var(--uib-speed)*-.15) infinite}.bar:nth-child(4){animation:grow var(--uib-speed) ease-in-out infinite}@keyframes grow{0%,to{transform:scaleY(.3)}50%{transform:scaleY(1)}}";class i extends a{_attributes=["size","color","speed","stroke"];size;color;speed;stroke;static get observedAttributes(){return["size","color","speed","stroke"]}constructor(){super(),this.storePropsToUpgrade(this._attributes),this.reflect(this._attributes)}connectedCallback(){this.upgradeStoredProps(),this.applyDefaultProps({size:35,color:"black",speed:1,stroke:3.5}),this.template.innerHTML=`
      <div class="container">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>
      <style>
        :host{
          --uib-size: ${this.size}px;
          --uib-color: ${this.color};
          --uib-speed: ${this.speed}s;
          --uib-stroke: ${this.stroke}px;
        }
        ${r}
      </style>
    `,this.shadow.replaceChildren(this.template.content.cloneNode(!0))}attributeChangedCallback(){let e=this.shadow.querySelector("style");e&&(e.innerHTML=`
      :host{
        --uib-size: ${this.size}px;
        --uib-color: ${this.color};
        --uib-speed: ${this.speed}s;
        --uib-stroke: ${this.stroke}px;
      }
      ${r}
    `)}}var o={register:(e="l-waveform")=>{customElements.get(e)||customElements.define(e,class extends i{})},element:i}}},function(e){e.O(0,[981,572,902,569,681,648,388,971,23,744],function(){return e(e.s=6244)}),_N_E=e.O()}]);