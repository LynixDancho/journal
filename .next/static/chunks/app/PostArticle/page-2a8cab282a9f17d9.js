(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[542],{4143:function(e,i,t){Promise.resolve().then(t.bind(t,1347))},1347:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return h}});var r=t(7437),l=t(2265),n=t(7818),a=t(5097),s=t(7141),c=t(3569),o=t(2358);let d=(0,n.default)(()=>Promise.all([t.e(572),t.e(902),t.e(388),t.e(777)]).then(t.bind(t,501)),{loadableGenerated:{webpack:()=>[501]},ssr:!1});async function u(e){let i=await fetch("http://localhost:1337/api/users?filters[email][$eq]=".concat(e)),t=await i.json();return console.log(t[0]),t[0].id}var m=function(){(0,l.useEffect)(()=>{o.Z.register()},[]);let{isLoaded:e,isSignedIn:i,user:n}=(0,c.aF)(),[m,h]=(0,l.useState)(!0),[p,x]=(0,l.useState)(!1),[g,f]=(0,l.useState)(""),[b,y]=(0,l.useState)(""),[j,v]=(0,l.useState)(null),[E,N]=(0,l.useState)(null),[O,S]=(0,l.useState)(""),[Z,w]=(0,l.useState)(null),[C,A]=(0,l.useState)(!1),[P,k]=(0,l.useState)(null),D=e=>{S(e)},_=async()=>{if(!Z)return;A(!0);let e=new FormData;e.append("files",Z);try{let i=await fetch("http://localhost:1337/api/upload",{method:"POST",body:e});if(!i.ok)throw Error("Image upload failed");let t=await i.json();k(t[0]),alert("Image uploaded successfully:")}catch(e){console.error("Error uploading image:",e)}finally{A(!1)}},T=async e=>{if(e.preventDefault(),!b||!O||!j||!E){alert("Please fill in all fields.");return}let i=await u(n.primaryEmailAddress.emailAddress),t={data:{Title:b,Bbody:O,UserName:n.fullName,Email:n.primaryEmailAddress.emailAddress,Type:j,Description_Of_The_Research:g,DateOfSubmitting:E.$d,ImagesOfResearch:P,isPublished:!1,users_permissions_user:i}};console.log(t);try{if(!(await fetch("http://localhost:1337/api/articles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw Error("Failed to create article");alert("Article created successfully!")}catch(e){console.error("Error creating article:",e)}};return((0,l.useEffect)(()=>{Promise.all([t.e(572),t.e(902),t.e(388),t.e(777)]).then(t.bind(t,501)).then(()=>{x(!0)})},[]),p)?(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("form",{suppressHydrationWarning:!0,className:"max-w-3xl w-full grid place-items-center pt-10 mb-10   ",onSubmit:T,children:[(0,r.jsxs)("div",{className:"flex flex-col ml-3 rounded-tl-md mb-2 rounded-tr-md align-top p-14 px-4 py-3 justify-start rounded-bt-md border-b border-r border-t border-l border-gray-700 text-black items-start w-full gap-3 font-medium text-[16px] pt-4 rounded-bl-md rounded-br-md outline-none",children:[(0,r.jsx)("h1",{className:" ",children:"Article Post"}),(0,r.jsxs)("div",{className:" ",children:[(0,r.jsx)("label",{className:" ",htmlFor:"articleName",children:"Article Name:"}),(0,r.jsx)("input",{className:"border border-t-gray-700 border-gray-700 rounded-md px-3 py-2 mt-1 focus:outline-none focus:ring focus:border-blue-300",type:"text",id:"articleName",value:b,onChange:e=>y(e.target.value),placeholder:"Article Name"})]}),(0,r.jsxs)("div",{className:"flex align-top",children:["  ",(0,r.jsx)("label",{className:"mr-1 mb-2",htmlFor:"Description",children:"Description  :"}),(0,r.jsx)("textarea",{className:"border border-t-gray-700 border-gray-700 rounded-md px-3 py-2 mt-1 focus:outline-none focus:ring focus:border-blue-300",id:"Description",value:g,onChange:e=>f(e.target.value),placeholder:"  Description  :"})]}),(0,r.jsxs)("div",{className:"ml-2 mb-6",children:[(0,r.jsx)("label",{className:"mr-1 mb-2",htmlFor:"datePicker",children:"Date Of Edition:"}),(0,r.jsx)(a.Z,{onChange:N})]}),(0,r.jsxs)("div",{className:"flex ml-2 ",children:[(0,r.jsx)("label",{className:"mr-2 mb-2",htmlFor:"selectType",children:"Type"}),(0,r.jsxs)(s.Z,{className:"w-[400px]",onChange:v,placeholder:"Select article type",children:[(0,r.jsx)(s.Z.Option,{value:"Physics",children:"Physics"}),(0,r.jsx)(s.Z.Option,{value:"Chemistry",children:"Chemistry"}),(0,r.jsx)(s.Z.Option,{value:"Biology",children:"Biology"}),(0,r.jsx)(s.Z.Option,{value:"Earth Sciences",children:"Earth Sciences"}),(0,r.jsx)(s.Z.Option,{value:"Environmental Sciences",children:"Environmental Sciences"}),(0,r.jsx)(s.Z.Option,{value:"Astronomy and Astrophysics",children:"Astronomy and Astrophysics"}),(0,r.jsx)(s.Z.Option,{value:"Mathematics",children:"Mathematics"}),(0,r.jsx)(s.Z.Option,{value:"Computer Science",children:"Computer Science"}),(0,r.jsx)(s.Z.Option,{value:"Statistics",children:"Statistics"}),(0,r.jsx)(s.Z.Option,{value:"Mechanical Engineering",children:"Mechanical Engineering"}),(0,r.jsx)(s.Z.Option,{value:"Electrical Engineering",children:"Electrical Engineering"}),(0,r.jsx)(s.Z.Option,{value:"Civil Engineering",children:"Civil Engineering"}),(0,r.jsx)(s.Z.Option,{value:"Computer Engineering",children:"Computer Engineering"}),(0,r.jsx)(s.Z.Option,{value:"Aerospace Engineering",children:"Aerospace Engineering"}),(0,r.jsx)(s.Z.Option,{value:"Chemical Engineering",children:"Chemical Engineering"}),(0,r.jsx)(s.Z.Option,{value:"Medicine",children:"Medicine"}),(0,r.jsx)(s.Z.Option,{value:"Pharmacology",children:"Pharmacology"}),(0,r.jsx)(s.Z.Option,{value:"Public Health",children:"Public Health"}),(0,r.jsx)(s.Z.Option,{value:"Nursing",children:"Nursing"}),(0,r.jsx)(s.Z.Option,{value:"Dentistry",children:"Dentistry"}),(0,r.jsx)(s.Z.Option,{value:"Veterinary Science",children:"Veterinary Science"})]})]}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("input",{type:"file",onChange:e=>{w(e.target.files[0])}}),(0,r.jsx)("button",{className:"hidden rounded-md mr-5 bg-primary px-5 py-2.5 text-sm font-medium text-white transition hover:bg-teal-600/75 sm:block",onClick:_,disabled:C,children:C?"Uploading...":"Upload Image"})]})]}),(0,r.jsx)(d,{content:O,onChange:e=>D(e)}),(0,r.jsx)("button",{type:"submit",className:"px-4 bg-sky-700 text-white py-2 rounded-md",children:"Add"})]})}):(0,r.jsxs)("div",{className:"flex justify-center h-screen w-full items-center",children:["  ",(0,r.jsx)("l-waveform",{size:"35",stroke:"3.5",speed:"1",color:"black"})]})};t(6463);var h=function(){return(0,r.jsx)("div",{children:(0,r.jsx)(m,{})})}}},function(e){e.O(0,[569,323,97,971,23,744],function(){return e(e.s=4143)}),_N_E=e.O()}]);